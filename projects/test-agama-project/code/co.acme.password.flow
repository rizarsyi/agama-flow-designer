Flow co.acme.password
     Basepath ""
// Â GetÂ AuthenticationÂ serviceÂ referenceÂ fromÂ theÂ IDP
authServiceRef = Call io.jans.server.service.AuthenticationService#class
// Â GetÂ CdiUtilÂ referenceÂ fromÂ theÂ IDP
cdiUtilRef = Call io.jans.service.cdi.util.CdiUtil#bean authService
// Â EmptyÂ resultÂ object
authResult = "{}"
// Â RetryÂ 3Â timesÂ toÂ getÂ correctÂ usernameÂ andÂ password
Repeat 3 times max
     // Â LoadsÂ theÂ loginÂ pageÂ forÂ usernameÂ andÂ passwordÂ input
     creds = RRF "login.ftlh" authResult
     // Â ValidateÂ usernameÂ andÂ password
     authResult.success = Call cdiUtil#authenticate creds.username creds.password
     // Â KeepÂ theÂ usernameÂ ifÂ theÂ userÂ needsÂ toÂ retryÂ authentication
     authResult.uid = "creds.username"
     When authResult.uid is true
          // Â ReturnÂ usernameÂ inÂ caseÂ ofÂ successfulÂ authentication
          Finish authResult.uid
// Â MaxÂ numberÂ ofÂ failedÂ authenticationÂ attemptsÂ reached.Â ReturnÂ FalseÂ toÂ endÂ theÂ flow
Finish false